{"version":3,"sources":["js/03-promises.js"],"names":["form","document","querySelector","generatorPromises","e","preventDefault","delay","Number","currentTarget","elements","value","step","amount","position","intervalId","setInterval","createPromise","clearInterval","pos","del","setTimeout","Math","random","Promise","resolve","reject","addEventListener"],"mappings":";AAAA,MAAMA,EAAOC,SAASC,cAAc,SAE9BC,EAAoBC,IACxBA,EAAEC,iBAEEC,IAAAA,EAAQC,OAAOH,EAAEI,cAAcC,SAASH,MAAMI,OAC5CC,MAAAA,EAAOJ,OAAOH,EAAEI,cAAcC,SAASE,KAAKD,OAC5CE,EAASL,OAAOH,EAAEI,cAAcC,SAASG,OAAOF,OAClDG,IAAAA,EAAW,EAETC,MAAAA,EAAaC,YAAY,KAG7BC,EAFAH,GAAY,EAEYP,GAExBA,GAASK,EAELE,IAAaD,GACfK,cAAcH,IAEf,IAGL,SAASE,EAAcE,EAAKC,GAC1BC,WAAW,KACaC,KAAKC,SAAW,GAEnCC,QAAQC,QAAQ,CAAEN,IAAAA,EAAKC,IAAAA,IAEvBI,QAAQE,OAAO,CAAEP,IAAAA,EAAKC,IAAAA,KAExBA,GAGLnB,EAAK0B,iBAAiB,SAAUvB","file":"03-promises.b78122d8.js","sourceRoot":"../src","sourcesContent":["const form = document.querySelector('.form');\n\nconst generatorPromises = e => {\n  e.preventDefault();\n\n  let delay = Number(e.currentTarget.elements.delay.value);\n  const step = Number(e.currentTarget.elements.step.value);\n  const amount = Number(e.currentTarget.elements.amount.value);\n  let position = 0;\n\n  const intervalId = setInterval(() => {\n    position += 1;\n\n    createPromise(position, delay)\n\n    delay += step;\n\n    if (position === amount) {\n      clearInterval(intervalId);\n    }\n  }, 0);\n};\n\nfunction createPromise(pos, del) {\n  setTimeout(() => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n       Promise.resolve({ pos, del });\n    } else {\n       Promise.reject({ pos, del });\n    }\n  }, del);\n}\n\nform.addEventListener('submit', generatorPromises);\n"]}